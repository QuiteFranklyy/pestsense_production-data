{"device":"TABLET","widgets":{"Scripting#1":{"t":"Scripting","lX":730,"lY":320,"sX":1,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.76%","height":"11.88%","x":"42.08%","y":"38%"},"ver":"200124c190915","vis":false,"dis":false,"tt":"","a":{"script type":"javascript","code editor":"//# sourceURL=dynamic-script.js\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date Date: \n * Version: \n */\n\n/**\n * Initialise script state (run once at startup)\n */\nvar customer;\nvar area;\nvar site;\nvar floor;\nvar mapLocation;\nvar itemSource;\n\nvar _initializer = function Load(template, channel)\n{\n\tClientEvents.publish(channel, template);\n\tClientEvents.publish(\"upload map\", template);\n};\nvar outgoingSource = [];\n\n\nScript.on('load', function() {\n\tvar cardTemplate =  Script.inheritScript(\"DraggableTemplate\");\n\t_initializer(cardTemplate, \"SetHtml\");\n\tvar deviceList = {type:3, source:[\"dummy.svg\",\"smart.svg\"]};\n\tClientEvents.publish(\"set-devices\",deviceList,false);\n\tdeviceList =  {type:1, source:[\"walltemp.svg\" ]};\n\tClientEvents.publish(\"set-devices\",deviceList,false);\n\tClientEvents.publish(\"navigation-changed\",3,false);\n\n   var companiesQuery = [\n    {\n        \"TableName\" : \"Companies\", // Specify the primary table used to construct the join request\n        \"Join\" : 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n        \"Columns\" :\n        [\n            \"Id\",\n            \"CompanyName\"\n        ] \n    }];\n    Database.readCompound(\"rodent\",\"Companies\",companiesQuery, function(packet)\t\t\t\t\t \n    { \n \t\tvar current;\n\t\tfor(var val in packet.value.data)\n\t\t{\n\t\t\tcurrent =  packet.value.data[val];\n\t\t\toutgoingSource.push({\n\t\t\t\tId:current[0],\n\t\t\t\tName:current[1],\n\t\t\t\t\n\n\t\t\t});\n\t\t\tClientEvents.publish(\"companies\",current[1],false);\n\n\t\t}\n    });\t\n  \n});\n\n\nClientEvents.subscribe(\"company-selected\", function(data) \n{\n\t\n\tvar id = GetSlectId(data.value);\n\tif(id === -1)\n\t{\n\t\tClient.status(\"Unable to find id for matching company name: '\" + data.value + \"'.\");\n\t\treturn;\n\t}\n\tcustomer = id;\n\t\n\tvar areasQuery = [\n    {\n        \"TableName\" : \"Areas\", // Specify the primary table used to construct the join request\n        \"Join\" : 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n        \"Columns\" :\n        [\n            \"Id\",\n            \"Name\"\n        ],\n\t\tFilters:[\n\t\t\t{\n\t\t\t\t\"Column\":\"CustomerId\",\n\t\t\t\t\"ParamName\":\"CustomerId\",\n\t\t\t\t\"Value\":id\n\t\t\t}\n\t\t]\n    }];\n    Database.readCompound(\"rodent\",\"Areas\",areasQuery, function(packet)\t\t\t\t\t \n    { \n \t\t \n \t\tvar current;\n \t\tfor(var val in packet.value.data)\n\t\t{\n\t\t\tcurrent =  packet.value.data[val];\n\t\t\toutgoingSource.push({\n\t\t\t\tId:current[0],\n\t\t\t\tName:current[1],\n\t\t\t\t\n\n\t\t\t});\n\t\t\tClientEvents.publish(\"areas\",current[1],false);\n\n\t\t}\n    });\t\n});\n\n\n\nClientEvents.subscribe(\"area-changed\", function(data) \n{\n \tvar id = GetSlectId(data.value);\n\tif(id === -1)\n\t{\n\t\tClient.status(\"Unable to find id for matching Area name: '\" + data.value + \"'.\");\n\t\treturn;\n\t}\n\tarea = id;\n\t\n\tvar sitesQuery = [\n    {\n        \"TableName\" : \"Sites\", // Specify the primary table used to construct the join request\n        \"Join\" : 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n        \"Columns\" :\n        [\n            \"Id\",\n            \"Location\"\n        ],\n\t\tFilters:[\n\t\t\t{\n\t\t\t\t\"Column\":\"AreaId\",\n\t\t\t\t\"ParamName\":\"AreaId\",\n\t\t\t\t\"Value\":id\n\t\t\t}\n\t\t]\n    }];\n    Database.readCompound(\"rodent\",\"Sites\",sitesQuery, function(packet)\t\t\t\t\t \n    { \n \t\t  \n \t\tvar current;\n \t\tfor(var val in packet.value.data)\n\t\t{\n\t\t\tcurrent =  packet.value.data[val];\n\t\t\toutgoingSource.push({\n\t\t\t\tId:current[0],\n\t\t\t\tName:current[1],\n\t\t\t\t\n\n\t\t\t});\n\t\t\tClientEvents.publish(\"sites\",current[1],false);\n\n\t\t}\n    });\t\n});\n\nClientEvents.subscribe(\"site-changed\", function(data) \n{\n\tvar id = GetSlectId(data.value);\n\tif(id === -1)\n\t{\n\t\tClient.status(\"Unable to find id for matching Site name: '\" + data.value + \"'.\");\n\t\treturn;\n\t}\n\t\n\tsite = id;\n});\n\n\nClientEvents.subscribe(\"floor-changed\", function(data) \n{\n\tif(data.value === \"\")\t\n\t{\n\t\tfloor = undefined;\n\t\treturn;\n\t}\n\t\n\tfloor = data.value;\n});\n\n\nClientEvents.subscribe(\"map-source-updated\", function(data) \n{\n \titemSource = data.value;\n});\n\n\n\nClientEvents.subscribe(\"toggle-selected\", function(data) \n{\n\tClientEvents.publish(\"navigation-changed\",parseInt(data.value),false);\n});\n \n\n\n\n\nClientEvents.subscribe(\"save-map\", function(data) \n{\n\t if(validate())\n\t {\n\t\tClient.notify(\"Saving Map\");\n\t }\n});\n\n\nfunction validate()\n{\n\tif(customer === undefined)\n\t{\n\t\tClient.notify(\"In order to save the map builder you must select a customer from the customer dropdown!!!\");\n\t\treturn false;\n\t}\n\t\n\tif(area === undefined)\n\t{\n\t\tClient.notify(\"In order to save the map builder you must select a area from the Areas dropdown!!!\");\n\t\treturn false;\n\t}\n\t\n\tif(site === undefined)\n\t{\n\t\tClient.notify(\"In order to save the map builder you must select a site from the Sites dropdown!!!\");\n\t\treturn false;\n\t}\n\t\n\t\n\tif(floor === undefined)\n\t{\n\t\tClient.notify(\"In order to save the map builder you must input a floor!!!\");\n\t\treturn false;\n\t}\n\t\n\tif(mapLocation === undefined)\n\t{\n\t\tClient.notify(\"Please upload an image for the map!!!\");\n\t\treturn false;\n\t}\n\t\n\tif(itemSource === undefined)\n\t{\n\t\tClient.notify(\"Map data source is empty!!!\");\n\t\treturn false;\n\t}\n\t\n\treturn true;\n}\n\n\nfunction GetSlectId(name)\n{\n\tvar current;\n\tfor(var val in outgoingSource)\n\t{\n\t\tcurrent = outgoingSource[val];\n\t\tif(current.Name === name)\n\t\t{\n\t\t\treturn current.Id;\n\t\t}\n\t}\n\treturn -1;\n}\n\nClientEvents.subscribe(\"upload-map\", function(data) \n{\n \n\tClient.selectFiles(\"\",function(data){\n\t\tvar base64String = null;\n\t\tvar reader = new FileReader();\n \n\t\treader.onloadend = function () {\n\t\t\tconsole.log(reader.result);\n\t\t\tbase64String = reader.result;\n\t\t\t\n\t\t\tif(base64String === null)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tClient.saveImage(base64String,function(imageSaved){},\n\t\t    {\n\t\t\t\tlocation: \"rodent/maps\",\n\t\t\t\tfileType: \"IMAGE\",\n\t\t\t\tfileName: data[0].name,\n\t\t\t}); \n\t\t\t\n\t\t\tvar packet = {\n\t\t\t\tmethod: \"append\",\n\t\t\t\tsrc: \"../userfiles/rodent/maps/\" +  data[0].name\n\t\t\t};\n\t\t\tmapLocation = data[0].name;\n\t\t\tClientEvents.publish(\"ReceiveImage\", packet, false);\n\t\t\t//ImageSelected.push(data[0].name);\n\t\t    //ClientEvents.publish(\"SetImage\",packet.src);\n\n\t\t};\n\t\treader.readAsDataURL(data[0]);\n\t});\n // ImageSelected =  \n\n});"},"ev":{"serverEvents":{"inputEvents":{"New Event #1":{"channel":"$DB/ADMIN/MANAGE/RESPONSE","event":"feed","important":"false"}}}}},"DraggableTemplate":{"t":"Scripting","lX":980,"lY":305,"sX":1,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200124c190915","vis":false,"dis":false,"tt":"","a":{"script type":"html","code editor":"<div style=\"overflow:hidden; height:100%;\">\n\t\n\t<style>\n\t.map{\n\t\twidth:100%;\n\t\theight:100%;\n\t}\n\t.componentGrid{\n\t\theight:100%;\n\t}\n\t\n\t.row{\n\t\tdisplay:flex;\n\t\twidth:100%;\n\t\theight:100%;\n\t}\n\t.col-2{\n\t\twidth:20%;\n\t\theight:100%;\n\t}\n\t.col-8{\n\t\twidth:80%;\n\t\theight:100%;\n\t}\n\t\t\n\t#outer-dropzone {\n\t  height: 100%;\n\t}\n\n\t.dropzone {\n\t  background-color: #bfe4ff;\n\t  border: dashed 4px transparent;\n\t  border-radius: 4px;\n\t  margin: 10px auto 30px;\n\t  padding: 10px;\n\t  width: 80%;\n\t  transition: background-color 0.3s;\n\t  width:100%;\n\t}\n\n\t.drop-active {\n\t  border-color: #aaa;\n\t}\n\n\t.drop-target {\n\t  background-color: #29e;\n\t  border-color: #fff;\n\t  border-style: solid;\n\t}\n\n\t.drag-drop {\n\t  display: inline-block;\n\t  min-width: 40px;\n\t  padding: 2em 0.5em;\n\t  margin: 1rem 0 0 1rem;\n\n\t  color: #fff;\n\t  background-color: #29e;\n\t  border: solid 2px #fff;\n\n\t  touch-action: none;\n\t  -webkit-transform: translate(0px, 0px);\n\t\t\t  transform: translate(0px, 0px);\n\n\t  transition: background-color 0.3s;\n\t}\n\n\t.drag-drop.can-drop {\n\t  color: #000;\n\t  background-color: #4e4;\n\t}\n\n\t</style>\n\t\n\t\n\t<div class=\"row\">\n\t\t<div class=\"row col-8\" style=\"margin-right:2%;\">\n\t\t\t\n\t\t \t<div class=\"map\" id=\"map\">\n\t\t\t\t<div id=\"outer-dropzone\" class=\"dropzone\">\n\t\t\t\t  #outer-dropzone\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class=\"row col-2\">\n\t\t\t<div class=\"componentGrid\" id=\"componentGrid\" >\n\t\t\t\t<div onclick=\"EnableDrag(this)\" class=\"drag-drop\">  \n\t\t\t\t\t\t   <svg data-info=\"iconSmart\"\n                            \n                                 xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n                                 xmlns:cc=\"http://creativecommons.org/ns#\"\n                                 xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n                                 xmlns:svg=\"http://www.w3.org/2000/svg\"\n                                 xmlns=\"http://www.w3.org/2000/svg\"\n                                 id=\"svg29831\"\n                                 version=\"1.1\"\n                                 viewBox=\"0 0 16.933333 16.933333\"\n                                 height=\"40\"\n                                 width=\"40\">\n                                \n\n                                <g transform=\"translate(0,-280.06667)\" id=\"layer1\">\n                                    <g transform=\"matrix(0.99308565,0,0,0.99308565,-104.14524,81.741953)\" id=\"g25310\">\n                                        <path id=\"path24992\" d=\"m 110.9523,208.5002 c 0.19067,-1.56225 1.18424,-2.13723 2.4862,-2.2128\" style=\"fill:none;fill-opacity:1;stroke:#41505a;stroke-width:0.84635907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\" />\n                                        <g transform=\"matrix(0.35277777,0,0,-0.35277777,216.07457,636.91667)\" id=\"g7816-3-6-0-8-5\">\n                                            <path id=\"path6880-5-6-9-2-2\" d=\"m -270.79532,1212.4821 v -17.9842 h -40.40178 v 40.8342 h 40.03112 v -6.7954\" style=\"fill:none;stroke:#41505a;stroke-width:7.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\" />\n                                        </g>\n                                        <path style=\"opacity:1;fill:#41505a;fill-opacity:1;stroke:#41505a;stroke-width:0.80306929;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1\" id=\"path24990-5\" d=\"m 114.24228,208.69815 a 0.82466435,0.82466435 0 0 1 -0.8219,0.82466 0.82466435,0.82466435 0 0 1 -0.82741,-0.81914 0.82466435,0.82466435 0 0 1 0.81637,-0.83014 0.82466435,0.82466435 0 0 1 0.83287,0.81358\" />\n                                        <path style=\"fill:none;fill-opacity:1;stroke:#41505a;stroke-width:1.03047788;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\" d=\"m 109.27007,208.23222 c 0.16348,-0.94022 0.45971,-1.66746 0.85972,-2.21848 0.75304,-1.03726 1.87392,-1.45007 3.16954,-1.48368\" id=\"path24992-1-6\" />\n                                    </g>\n                                </g>\n                            </svg>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div onclick=\"EnableDrag(this)\" class=\"drag-drop\">  \n\t\t\t\t   <svg xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n\t\t\t\t\t\t xmlns:cc=\"http://creativecommons.org/ns#\"\n\t\t\t\t\t\t xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n\t\t\t\t\t\t xmlns:svg=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t id=\"svg29831\"\n\t\t\t\t\t\t version=\"1.1\"\n\t\t\t\t\t\t viewBox=\"0 0 16.933333 16.933333\"\n\t\t\t\t\t\t height=\"40\"\n\t\t\t\t\t\t width=\"40\"\n\t\t\t\t\t\t data-info=\"iconDummy\"\n\t\t\t\t\t\t >\n\t\t\t\t\t\t<g id=\"g25716\" transform=\"matrix(0.35356524,0,0,-0.35271157,-872.43975,177.40608)\">\n\t\t\t\t\t\t\t<g transform=\"translate(2609.6979,-736.76742)\" id=\"g9647-9-8-80\">\n\t\t\t\t\t\t\t\t<path id=\"path6880-7-3-8-0-4-0\" d=\"m -97.915822,1213.08 v -17.9842 H -138.3176 v 40.8342 h 40.031118 v -6.7954\" style=\"fill:none;stroke:#41505a;stroke-width:7.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"></path>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t<path transform=\"scale(1,-1)\" style=\"opacity:1;fill:#41505a;fill-opacity:1;stroke:#41505a;stroke-width:2.27642;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1\" id=\"path24990-4\" d=\"m 2493.9189,-478.74548 a 2.3376312,2.3376312 0 0 1 -2.3298,2.33761 2.3376312,2.3376312 0 0 1 -2.3454,-2.32197 2.3376312,2.3376312 0 0 1 2.3141,-2.35316 2.3376312,2.3376312 0 0 1 2.3609,2.30622 l -2.3374,0.0313 z\"></path>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t</div>\n</div>"},"ev":{}},"Dropdown#0":{"t":"Dropdown","lX":712,"lY":13,"sX":3.3,"sY":1,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOVERT","width":"19%","height":"5.94%","x":"41%","y":"1.5%"},"ver":"190104c190915","dis":false,"tt":"","a":{"label text":"Site","default options":""},"ev":{"clientEvents":{"inputEvents":{"sites":{"channel":"sites/receive value","event":"receive value","important":"false"}},"outputEvents":{"site changed":{"channel":"site-changed/receive value","event":"selected","trigger":"selected","important":"false"}}}}},"Dropdown#1":{"t":"Dropdown","lX":370,"lY":13,"sX":3.3,"sY":1,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOVERT","width":"19%","height":"5.94%","x":"21.32%","y":"1.5%"},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"label text":"Area","default options":""},"ev":{"clientEvents":{"inputEvents":{"areas":{"channel":"areas/receive value","event":"receive value","important":"false"}},"outputEvents":{"area changed":{"channel":"area-changed/receive value","event":"selected","trigger":"selected","important":"false"}}}}},"Input#0":{"t":"Input","lX":1044,"lY":13,"sX":3.59,"sY":1,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOVERT","width":"20.67%","height":"6.29%","x":"60.1%","y":"1.5%"},"ver":"270520c190915","dis":false,"tt":"","a":{"label text":"Floor","color":"grey"},"ev":{"clientEvents":{"outputEvents":{"floor changed":{"channel":"floor-changed/receive value","event":"on change","trigger":"on change","important":"false"}}}}},"Icon#0":{"t":"Icon","lX":1472,"lY":13,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"5.11%","x":"84.74%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline"},"ev":{"clientEvents":{"outputEvents":{"save":{"channel":"save-map/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"Icon#1":{"t":"Icon","lX":1524,"lY":13,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"4.99%","x":"87.74%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline","icon file":"arrow-bar-left","color":"red"},"ev":{}},"Icon#2":{"t":"Icon","lX":1404,"lY":12,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"5.11%","x":"81.6%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline","icon file":"map"},"ev":{"clientEvents":{"outputEvents":{"upload map":{"channel":"upload-map/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"DeviceBuilder#0":{"t":"MapBuilder","lX":0,"lY":75,"sX":17.37,"sY":7.56,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"OK","width":"100%","height":"89.79%","x":"NaN%","y":"8.91%"},"ver":"190104c190915","z":"110","dis":false,"tt":"","a":{},"ev":{"clientEvents":{"inputEvents":{"load devices":{"channel":"set-devices/set icons","event":"set icons","important":"false"},"navigation changed":{"channel":"navigation-changed/toggle navigation","event":"toggle navigation","important":"false"},"set image":{"channel":"ReceiveImage/set image","event":"set image","important":"false"}},"outputEvents":{"map source updated":{"channel":"map-source-updated/receive value","event":"map source updated","trigger":"map source updated","important":"false"}}}}},"Dropdown#2":{"t":"Dropdown","lX":23,"lY":13,"sX":3.3,"sY":1,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOVERT","width":"19%","height":"5.94%","x":"1.32%","y":"1.5%"},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"label text":"Customer","default options":""},"ev":{"clientEvents":{"inputEvents":{"companies":{"channel":"companies/receive value","event":"receive value","important":"false"}},"outputEvents":{"company selected":{"channel":"company-selected/receive value","event":"selected","trigger":"selected","important":"false"}}}}},"Icon#3":{"t":"Icon","lX":1575,"lY":13,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"5.11%","x":"90.67%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline","icon file":"shop","value on":"2"},"ev":{"clientEvents":{"outputEvents":{"prop selected":{"channel":"toggle-selected/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"Icon#4":{"t":"Icon","lX":1630,"lY":13,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"5.11%","x":"93.84%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline","icon file":"bricks"},"ev":{"clientEvents":{"inputEvents":{},"outputEvents":{"wall selected":{"channel":"toggle-selected/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"Icon#5":{"t":"Icon","lX":1685,"lY":13,"sX":0.85,"sY":0.85,"s":"New Screen 0","ps":{"enabled":true,"scalingType":"NOHORIZ,NOVERT","width":"2.46%","height":"4.99%","x":"97.01%","y":"1.5%"},"ver":"200628c190915","dis":false,"tt":"","a":{"outline color":"no outline","icon file":"bullseye","value on":"3"},"ev":{"clientEvents":{"outputEvents":{"device selected":{"channel":"toggle-selected/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"Signature#0":{"t":"Signature","lX":0,"lY":0,"sX":9.95,"sY":8.42,"s":"Signature Demo","ps":{"enabled":"true","scalingType":"OK","width":"57.28%","height":"100%","x":"0%","y":"0%"},"ver":"190104c190915","dis":false,"tt":"","a":{"background color":"#ddb6b6","pen color":"#000000"},"ev":{"clientEvents":{"inputEvents":{"New Event #1":{"channel":"clear-content/clear content","event":"clear content","important":"false"}},"outputEvents":{"New Event #2":{"channel":"content-changed/receive value","event":"Changed","trigger":"Changed","important":"false"}}}}},"Scripting#0":{"t":"Scripting","lX":1180,"lY":695,"sX":1,"sY":1,"s":"Signature Demo","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200124c190915","vis":false,"dis":false,"tt":"","a":{"script type":"javascript","code editor":"//# sourceURL=dynamic-script.js\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date Date: \n * Version: \n */\n\n/**\n * Initialise script state (run once at startup)\n */\nScript.on('load', function() {\n\n});\n\n\nClientEvents.subscribe(\"btn-pressed\", function(data) \n{\n\tClientEvents.publish(\"clear-content\", \"\",false);\n\n});\nClientEvents.subscribe(\"content-changed\", function(data) \n{\n\t\n\tClientEvents.publish(\"clear-preview\", \"\",false);\n\tClientEvents.publish(\"set-val\", data.value,false);\n\n});"},"ev":{}},"Button#0":{"t":"Button","lX":1370,"lY":690,"sX":1,"sY":1,"s":"Signature Demo","ps":{"enabled":"true","scalingType":"OK","width":"5.76%","height":"5.46%","x":"78.87%","y":"81.95%"},"ver":"190104c190915","dis":false,"tt":"","a":{"button name":"Press"},"ev":{"clientEvents":{"outputEvents":{"New Event #1":{"channel":"btn-pressed/receive value","event":"pressed","trigger":"pressed","important":"false"}}}}},"Signature#1":{"t":"Signature","lX":1165,"lY":70,"sX":3.25,"sY":4.21,"s":"Signature Demo","ps":{"enabled":"true","scalingType":"OK","width":"18.71%","height":"50%","x":"67.07%","y":"8.31%"},"ver":"190104c190915","dis":false,"tt":"","a":{"background color":"#ffffff","pen color":"#000000"},"ev":{"clientEvents":{"inputEvents":{"New Event #1":{"channel":"set-val/set value","event":"set value","important":"false"},"New Event #2":{"channel":"clear-preview/clear content","event":"clear content","important":"false"}}}}},"BarcodeScanner#0":{"t":"BarcodeScanner","lX":2,"lY":51,"sX":17.37,"sY":7.85,"s":"New Screen 2","ps":{"enabled":true,"scalingType":"OK","width":"100%","height":"93.23%","x":"0.12%","y":"6.18%"},"ver":"190104c190915","dis":false,"tt":"","a":{},"ev":{"clientEvents":{"inputEvents":{"reader start":{"channel":"reader-start/reader read","event":"reader read","important":"false"},"reader end":{"channel":"reader-end/reader end","event":"reader end","important":"false"}}}}},"Button#1":{"t":"Button","lX":95,"lY":5,"sX":1,"sY":1,"s":"New Screen 2","ps":{"enabled":false,"scalingType":"OK","width":"5.76%","height":"5.46%","x":"5.47%","y":"0.59%"},"ver":"190104c190915","dis":false,"tt":"","a":{"button name":"Start"},"ev":{"clientEvents":{"outputEvents":{"New Event #1":{"channel":"start/receive value","trigger":"pressed","event":"pressed","important":"false"}}}}},"Button#2":{"t":"Button","lX":235,"lY":0,"sX":1,"sY":1,"s":"New Screen 2","ps":{"enabled":false,"scalingType":"OK","width":"5.76%","height":"5.46%","x":"13.53%","y":"0%"},"ver":"190104c190915","dis":false,"tt":"","a":{"button name":"End"},"ev":{"clientEvents":{"outputEvents":{"New Event #1":{"channel":"end/receive value","trigger":"pressed","event":"pressed","important":"false"}}}}},"Scripting#2":{"t":"Scripting","lX":570,"lY":240,"sX":1,"sY":1,"s":"New Screen 2","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200124c190915","vis":false,"dis":false,"tt":"","a":{"script type":"javascript","code editor":"//# sourceURL=dynamic-script.js\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date Date: \n * Version: \n */\n\n/**\n * Initialise script state (run once at startup)\n */\nScript.on('load', function() {\n\n});\n\nClientEvents.subscribe(\"start\", function(data) {\n\t\n\tClientEvents.publish(\"reader-start\", \"\");\n\n});\n\nClientEvents.subscribe(\"end\", function(data) {\n\t\n\tClientEvents.publish(\"reader-end\", \"\");\n\n});"},"ev":{}}},"screens":{"New Screen 0":{"index":0,"icon":"widgets","meta":""},"Signature Demo":{"index":1,"icon":"widgets","meta":""},"New Screen 2":{"index":2,"icon":"widgets","tt":null,"meta":""}},"meta":""}